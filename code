# import the libraries
import os
import face_recognition

# make a list of all the available images
# images corresponds to testing images
# pictures corresponds to training pictures
images = os.listdir('/content/images')
pictures = os.listdir('/content/pictures')

# to iterate over each testing images
for image in images:
  image_to_be_matched = face_recognition.load_image_file('/content/images/' + image)
  # encoded the loaded image into a feature vector
  image_to_be_matched_encoded = face_recognition.face_encodings(image_to_be_matched)[0]
  print('Testing Image: ' + image )

  # iterate over every training picture for each testing image
  for picture in pictures:
    # load the image
    current_image = face_recognition.load_image_file('/content/pictures/' + picture)
    # encode the loaded image into a feature vector
    current_image_encoded = face_recognition.face_encodings(current_image)[0]
    # matching testing image with the training picture and check if it matches
    result = face_recognition.compare_faces([image_to_be_matched_encoded], current_image_encoded)
    # check if it was a match
    if result[0] == True:
        print ("Matched with " + picture)
    else:
        print ("Not matched " + picture)
  print(" ") 
